// For dropdown
$navbarBp: $bp_lg;

.jsNavbarToggle {
   &.is-open {
      @media all and (max-width: $navbarBp) {
         .navbar {
            opacity: 1;
            transform: translateX(0);
         }
         .hamburger{
            // color: $colorWhite;
            position: absolute;
         }
      }
   }
}

.navbar{
   li{
      > a {
         display: flex;
         align-items: center;
      }
   }
   > ul {
      > li {
         display: flex;
         flex-direction: column;
      }
   }

   @media (max-width: $navbarBp){
      max-width: 34rem;
      transform: translateX(110%);
      left: auto;
      right: 0;
      width: calc(100% - 5rem);
      ul{
         &.is-open{
            > li{
               &.this-open{
                  > .dropdown{
                     margin-left: -100%;
                  }
               }
            }  
         }
      }
      .dropdown {
         width: 100%;
         position: absolute;
         left: 100%;
         top: 0;
         bottom: 0;
         transition: all .7s 0s ease-in-out;
      }
      .submenuBack{
         img{
            transform: rotate(180deg);
         }
      }
      .submenuOpen{
         display: inline-block;
         margin-left: auto;
      }

      > ul{
         flex: auto;
         overflow: auto;
         overflow-x: hidden;
         position: relative;
      }
      
      .nav-transition & {
         transition: all .7s .2s ease-in-out;
      }
      
   }
   @media (min-width: $navbarBp){
      .submenuBack{
         display: none;
      }
      > ul{
         // list-reset flex-row xl:flex-stretch overflow-hidden xl:overflow-visible
         list-style: none;
         display: flex;
         flex: 1 1 auto;

         > li{
            // flex-stretch flex-col hover:bg-primary hover:fcolor-white
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            position: relative;

            > div > .submenuOpen{
               display: none;
            }

            > a{
               // xl:text-center xl:flex-stretch xl:flex-row xl:align-center xl:justify-center
               text-align: center;
               flex: 1 1 auto;
               display: flex;
               align-items: center;
               justify-content: center;
               width: 100%;
               display: inline-flex;
            }
         }
      }

      .submenuOpen{
         transform: rotate(90deg);
         padding: 0;
         width: 1rem;
         display: flex;
         margin-top: .4rem;
         img{
            width: 100%;
         }
      }

      ul > li {
         > .dropdown{
            max-height: 0;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
            li{
               opacity: 0;
            }
            .submenuOpen{
               margin-left: auto;
            }
         }
         &:hover{
            >.dropdown {
               opacity: 1;
               max-height: 100rem;
               overflow: visible;
               z-index: 40;
               li{
                  opacity: 1;
                  position: relative;
               }
            }
            // for NLET website
            > .navDrop{
               z-index: 50;
               position: relative;
            }
         }
      }

      .dropdown {
         // min-width: 39rem;
         width: 24.2rem;
         // width: fit-content; 
         z-index: 40;
         overflow: hidden;
         max-height: 100rem;
         position: absolute;
         top: 100%;
         transition: all .7s 0s ease-in-out;
         left: 50%;
         transform: translateX(-50%);
      }
      .dropdown{
         top: 0;
         z-index: -1;
      }
   }
}